<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Guide | js-dsl</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/js-dsl/assets/css/0.styles.bf5edb16.css" as="style"><link rel="preload" href="/js-dsl/assets/js/app.4fc983b8.js" as="script"><link rel="preload" href="/js-dsl/assets/js/2.1e92e3c0.js" as="script"><link rel="preload" href="/js-dsl/assets/js/5.d1e35d9f.js" as="script"><link rel="prefetch" href="/js-dsl/assets/js/3.fad1e590.js"><link rel="prefetch" href="/js-dsl/assets/js/4.09d9e4b0.js"><link rel="prefetch" href="/js-dsl/assets/js/6.a3dfb40b.js"><link rel="prefetch" href="/js-dsl/assets/js/7.7c7c5df6.js">
    <link rel="stylesheet" href="/js-dsl/assets/css/0.styles.bf5edb16.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/js-dsl/" class="home-link router-link-exact-active router-link-active"><!----> <span class="site-name">js-dsl</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/js-dsl/" class="nav-link router-link-exact-active router-link-active">Guide</a></div><div class="nav-item"><a href="/js-dsl/demo/" class="nav-link">Demo</a></div><div class="nav-item"><a href="https://github.com/venkatperi/js-dsl" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/js-dsl/" class="nav-link router-link-exact-active router-link-active">Guide</a></div><div class="nav-item"><a href="/js-dsl/demo/" class="nav-link">Demo</a></div><div class="nav-item"><a href="https://github.com/venkatperi/js-dsl" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/js-dsl/" class="active sidebar-link">Guide</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js-dsl/#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/js-dsl/#getting-started" class="sidebar-link">Getting Started</a></li><li class="sidebar-sub-header"><a href="/js-dsl/#using-js-dsl" class="sidebar-link">Using js-dsl</a></li><li class="sidebar-sub-header"><a href="/js-dsl/#how-it-works" class="sidebar-link">How It Works</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js-dsl/#factories" class="sidebar-link">Factories</a></li><li class="sidebar-sub-header"><a href="/js-dsl/#building-the-tree" class="sidebar-link">Building the Tree</a></li></ul></li><li class="sidebar-sub-header"><a href="/js-dsl/#examples" class="sidebar-link">Examples</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js-dsl/#creating-arbitary-tree" class="sidebar-link">Creating Arbitary Tree</a></li><li class="sidebar-sub-header"><a href="/js-dsl/#a-dsl-for-html" class="sidebar-link">A DSL for HTML</a></li></ul></li><li class="sidebar-sub-header"><a href="/js-dsl/#about-internal-dsls" class="sidebar-link">About Internal DSLs</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>js-dsl is Javascript framework for developing <a href="https://martinfowler.com/bliki/InternalDslStyle.html" target="_blank" rel="noopener noreferrer">internal<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://martinfowler.com/bliki/DomainSpecificLanguage.html" target="_blank" rel="noopener noreferrer">domain specific languages<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (DSLs) that let you declaratively build arbitrary trees to parallel your abstract syntax tree (AST) or semantic model (SM).</p> <h2 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting Started</h2> <p>Install with node:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> js-dsl
</code></pre></div><h2 id="using-js-dsl"><a href="#using-js-dsl" class="header-anchor">#</a> Using js-dsl</h2> <p>You need to register the names of the nodes with js-dsl and the context under which nodes may appear. In in DSL, you are provided global method calls that map to the node names that you registered.</p> <p>Method calls provided by js-dsl take the form:</p> <div class="language-Javascript extra-class"><pre class="language-javascript"><code><span class="token function">someNode</span><span class="token punctuation">(</span><span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>config closure<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>The optional <code>value</code> and <code>options</code> map are passed to the node's constructor.</p> <h2 id="how-it-works"><a href="#how-it-works" class="header-anchor">#</a> How It Works</h2> <h3 id="factories"><a href="#factories" class="header-anchor">#</a> Factories</h3> <p>js-dsl will orchestrate the building of the node-tree and call a factory object that was registered with each node. The factory object is responsible for instantiating new nodes and inserting them appropriately in the AST hierarchy, among other things. Factory objects inherit from <code>AbstractFactory</code>.</p> <h3 id="building-the-tree"><a href="#building-the-tree" class="header-anchor">#</a> Building the Tree</h3> <p>When js-dsl encounters a known node-method call, it asks factory registered for the node to supply an instance of the node by calling <code>newInstance</code>, passing it any optional <code>value</code> and <code>options</code>.</p> <p>js-dsl inserts the newly created node into the tree hiearchy by calling factory methods <code>setParent</code> and <code>setChild</code> (in that order), with the parent as the current node and new node as the child .</p> <p>If the node has a <code>config closure</code>, js-dsl will invoke the closure with the js-dsl instance as <code>this</code> and the newly created node as the only argument.</p> <h2 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h2> <h3 id="creating-arbitary-tree"><a href="#creating-arbitary-tree" class="header-anchor">#</a> Creating Arbitary Tree</h3> <p>This example builds an arbitrary forest of <code>tree</code> and <code>tip</code> nodes like the one shown below. Calls to <code>tree</code> translate to <code>Tree</code> objects (likewise for <code>tip</code>).</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> forest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeBuilder<span class="token punctuation">.</span>build</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
 <span class="token function">tree</span><span class="token punctuation">(</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">tree</span><span class="token punctuation">(</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">tip</span><span class="token punctuation">(</span> <span class="token string">'c'</span> <span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token punctuation">)</span>
    <span class="token function">tip</span><span class="token punctuation">(</span> <span class="token string">'d'</span> <span class="token punctuation">)</span>
    <span class="token function">tree</span><span class="token punctuation">(</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">tree</span><span class="token punctuation">(</span> <span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">tree</span><span class="token punctuation">(</span> <span class="token string">'g'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">tip</span><span class="token punctuation">(</span> <span class="token string">'d'</span> <span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token punctuation">)</span>
        <span class="token function">tip</span><span class="token punctuation">(</span> <span class="token string">'h'</span> <span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
</code></pre></div><p><code>js-dsl</code> generates the approriate hierarchy from nested calls to <code>tree</code> and <code>tip</code>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>└─a
  ├─b
  │ └─c
  ├─d
  └─e
    └─f
      ├─g
      │ └─d
      └─h
</code></pre></div><p><code>js-dsl</code> needs to know how to translate <code>tree</code> to <code>Tree</code> (and <code>tip</code> to <code>Tip</code>). We do this by registering a factory for <code>tree</code> and <code>tip</code>.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> JsDsl<span class="token punctuation">,</span> AbstractFactory <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">'js-dsl'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">TreeBuilder</span> <span class="token keyword">extends</span> <span class="token class-name">JsDsl</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">registerFactory</span><span class="token punctuation">(</span> <span class="token string">'tree'</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">TreeFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">registerFactory</span><span class="token punctuation">(</span> <span class="token string">'tip'</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">TipFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Factories are how <code>js-dsl</code> creates new nodes and ensures that they are inserted in the proper location in the builder's object hierarchy:</p> <p>The <code>Tree</code> factory:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">TreeFactory</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
  <span class="token function">newInstance</span><span class="token punctuation">(</span> <span class="token parameter">builder<span class="token punctuation">,</span> name<span class="token punctuation">,</span> args</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Tree</span><span class="token punctuation">(</span> args <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">setChild</span><span class="token punctuation">(</span> <span class="token parameter">builder<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> child</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    parent<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span> child <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>The <code>Tip</code> Factory:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">class</span> <span class="token class-name">TipFactory</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
  <span class="token function">isLeaf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">newInstance</span><span class="token punctuation">(</span> <span class="token parameter">builder<span class="token punctuation">,</span> name<span class="token punctuation">,</span> args</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Tip</span><span class="token punctuation">(</span> args <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Finally, the 'data' nodes:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Tree</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span> <span class="token parameter">name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token function">addChild</span><span class="token punctuation">(</span> <span class="token parameter">child</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> child <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Tip</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span> <span class="token parameter">name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="a-dsl-for-html"><a href="#a-dsl-for-html" class="header-anchor">#</a> A DSL for HTML</h3> <p>Here's an example of a <a href="https://github.com/venkatperi/js.html" target="_blank" rel="noopener noreferrer">DSL<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that generates HTML:</p> <div class="language-Javascript extra-class"><pre class="language-javascript"><code><span class="token function">div</span><span class="token punctuation">(</span> <span class="token punctuation">{</span> <span class="token keyword">class</span><span class="token punctuation">:</span> <span class="token string">'my-style'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">h2</span><span class="token punctuation">(</span> <span class="token string">'Header 2'</span> <span class="token punctuation">)</span>
  <span class="token function">p</span><span class="token punctuation">(</span> <span class="token string">'This is another paragraph'</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span>
</code></pre></div><p>Under the hood, the DSL generates a tree of <code>element</code> nodes which render to this HTML snippet:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>my-style<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Header 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>This is another paragraph<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>In this example, js-dsl translates calls to global methods such as <code>div</code> to HTML element nodes.</p> <h2 id="about-internal-dsls"><a href="#about-internal-dsls" class="header-anchor">#</a> About Internal DSLs</h2> <p>An internal DSL is written inside an existing host language. A well known example of a Javascript internal DSL the testing framework, <a href="www.mochajs.org">mocha</a>. Mocha provides globally callable functions such as <code>describe</code> and <code>it</code> which can be used to write easy to understand tests such as:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> assert <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'assert'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Array'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'#indexOf()'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return -1 when the value is not present'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Internally, mocha translates each call to <code>describe</code> and <code>it</code> to nodes of an abstact syntax tree (AST) that captures the hierarchy of the calls as well as their content.</p> <div class="custom-block tip"><p class="custom-block-title">Note</p> <p>js-dsl allows for the easy development of arbitrary internal DSLs like mocha without the need to worry about context or building and maintaining an AST.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/js-dsl/assets/js/app.4fc983b8.js" defer></script><script src="/js-dsl/assets/js/2.1e92e3c0.js" defer></script><script src="/js-dsl/assets/js/5.d1e35d9f.js" defer></script>
  </body>
</html>
